<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
     <title>To-do list</title>
</head>

<body>
     <div class="container border border-primary my-5 p-5" style="max-width: 1000px;">
          <p align="center" class="text-primary fw-bold fs-1 ">To-do list</p>
          <div id="app">
               <p><input id="addTask" type="text" class="form-control fs-3 bg-primary bg-opacity-10"
                         placeholder="Add Task" value="" /></p>
               <ul id="listTask" class="list-group fs-3 ">
               </ul>
          </div>
     </div>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
     <script>
          function congratulation() {
               let result = true;
               $("#listTask").find("input[type='checkbox']").each((i, e) => {
                    if (!(e.checked))
                         result = false;
               });
               return result;
          }
          $("#addTask").on("keypress", function (e) {
               if (e.keyCode == "13") {
                    let task = `<div class="form-check "><input class="form-check-input" type="checkbox"><label class="form-check-label">${$(this).val()}</label></div>`;
                    task = $.parseHTML(`<li class="list-group-item bg-primary bg-opacity-10 bg-primary"  >${task}</li>`)
                    $(task).change(function () {
                         if ($(this).find("input[type='checkbox']")[0].checked) {
                              $(this).find(".form-check-label").css("text-decoration", "line-through")
                              $(this).removeClass("bg-primary");
                              $(this).addClass("bg-danger");
                              $(this).find(".form-check-input").removeClass("bg-primary")
                              $(this).find(".form-check-input").addClass("bg-danger")
                         }
                         else {
                              $(this).find(".form-check-label").css("text-decoration", "none")
                              $(this).addClass("bg-primary");
                              $(this).removeClass("bg-danger");
                              $(this).find(".form-check-input").removeClass("bg-danger")
                         }
                         if (congratulation()) {
                              $("#app").text("")
                              $("#app").append(`<div align="center"><img src="https://i.pinimg.com/originals/42/a4/27/42a4271628718662d468929271b69421.gif" ></div>`)
                         }
                    })
                    $(".list-group").append(task)
                    $(this).val("")
               }
          })
     </script>

</body>

</html>